<?php
namespace Tym17\MailPerformance\Model\Observer;

class Order extends \Magento\Newsletter\Controller\Subscriber
{
    protected $_msgManager;

    /**
     * @var \Magento\Cron\Model\Observer
     */
    protected $_observer;



    public function __construct(
        \Magento\Framework\Message\ManagerInterface $msgManager
    ) {
        $this->_msgManager = $msgManager;
    }

    public function salesOrderPaymentPay()
    {
        $this->_msgManager->addWarning(__('salesOrderPaymentPay'));
    }

    public function salesOrderPaymentRefund()
    {
        $this->_msgManager->addWarning(__('salesOrderPaymentRefund'));
    }








    public function checkoutCartAddProductComplete()
    {
        $this->_msgManager->addWarning(__('checkoutCartAddProductComplete'));
    }

    public function checkoutCartProductAddAfter()
    {
        $this->_msgManager->addWarning(__('checkoutCartProductAddAfter'));
    }

    public function checkoutCartSaveAfter()
    {
        $this->_msgManager->addWarning(__('checkoutCartSaveAfter'));
    }





    public function checkoutCartUpdateItemComplete()
    {
        $this->_msgManager->addWarning(__('checkoutCartUpdateItemComplete'));
    }

    public function checkoutCartUpdateItemsAfter()
    {
        $this->_msgManager->addWarning(__('checkoutCartUpdateItemsAfter'));
    }

    public function checkoutCartProductUpdateAfter()
    {
        $this->_msgManager->addWarning(__('checkoutCartProductUpdateAfter'));
    }






    public function checkoutOnepageControllerSuccessAction()
    {
        $this->_msgManager->addWarning(__('checkoutOnepageControllerSuccessAction'));
    }




    public function checkoutTypeOnepageSaveOrderAfter()
    {
        $this->_msgManager->addWarning(__('checkoutTypeOnepageSaveOrderAfter'));
    }






    public function salesModelServiceQuoteSubmitSuccess()
    {
        $this->_msgManager->addWarning(__('salesModelServiceQuoteSubmitSuccess'));
    }







    public function salesOrderInvoiceCancel()
    {
        $this->_msgManager->addWarning(__('salesOrderInvoiceCancel'));
    }

    public function salesOrderPaymentCancelInvoice()
    {
        $this->_msgManager->addWarning(__('salesOrderPaymentCancelInvoice'));
    }

    public function salesOrderPaymentCancel()
    {
        $this->_msgManager->addWarning(__('salesOrderPaymentCancel'));
    }





    public function customerRegisterSuccess()
    {
        $this->_msgManager->addWarning(__('customerRegisterSuccess'));
    }






    public function checkoutControllerOnepageSaveOrder()
    {
        $this->_msgManager->addWarning(__('checkoutControllerOnepageSaveOrder'));
    }




    public function salesModelServiceQuoteSubmitFailure()
    {
        $this->_msgManager->addWarning(__('salesModelServiceQuoteSubmitFailure'));
    }

    /*
     *
     * Newsletter :
     *
     */

    public function controllerActionPredispatchNewsletter()
    {
        $str = gettype($this->_subscriberFactory->create()->load($id));

        $this->_msgManager->addWarning(__('controllerActionPredispatchNewsletter . str = ' . $str));
        //$this->_observer->dispatch('controller_action_predispatch_newsletter');
    }

    public function controllerActionPredispatchNewsletterSubscriberNew()
    {
        $this->_msgManager->addWarning(__('controllerActionPredispatchNewsletterSubscriberNew'));
    }

    public function controllerActionPostdispatchNewsletterSubscriberNew()
    {
        $this->_msgManager->addWarning(__('controllerActionPostdispatchNewsletterSubscriberNew'));
    }

    public function controllerActionPostdispatchNewsletter()
    {
        $this->_msgManager->addWarning(__('controllerActionPostdispatchNewsletter'));
    }

}




<?xml version="1.0"?>
<!--
/**
 * Copyright Â© 2015 Magento. All rights reserved.
 * See COPYING.txt for license details.
 */
-->
<config xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="../../../../../../lib/internal/Magento/Framework/Event/etc/events.xsd">

    <!-- /!\ OK /!\ -->
    <event name="sales_order_payment_pay">
        <observer name="obs_sales_order_payment_pay" instance="Tym17\MailPerformance\Model\Observer\Order" method="salesOrderPaymentPay" />
    </event>
    <event name="sales_order_payment_refund">
        <observer name="obs_sales_order_payment_refund" instance="Tym17\MailPerformance\Model\Observer\Order" method="salesOrderPaymentRefund" />
    </event>


    <!-- /\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\ -->


    <!-- OK -->
    <event name="checkout_cart_add_product_complete">
        <observer name="obs_checkout_cart_add_product_complete" instance="Tym17\MailPerformance\Model\Observer\Order" method="checkoutCartAddProductComplete" />
    </event>
    <event name="checkout_cart_product_add_after">
        <observer name="obs_checkout_cart_product_add_after" instance="Tym17\MailPerformance\Model\Observer\Order" method="checkoutCartProductAddAfter" />
    </event>
    <event name="checkout_cart_save_after">
        <observer name="obs_checkout_cart_save_after" instance="Tym17\MailPerformance\Model\Observer\Order" method="checkoutCartSaveAfter" />
    </event>

    <!-- OK -->
    <event name="checkout_cart_update_item_complete">
        <observer name="obs_checkout_cart_update_item_complete" instance="Tym17\MailPerformance\Model\Observer\Order" method="checkoutCartUpdateItemComplete" />
    </event>
    <event name="checkout_cart_update_items_after">
        <observer name="obs_checkout_cart_update_items_after" instance="Tym17\MailPerformance\Model\Observer\Order" method="checkoutCartUpdateItemsAfter" />
    </event>
    <event name="checkout_cart_product_update_after">
        <observer name="obs_checkout_cart_product_update_after" instance="Tym17\MailPerformance\Model\Observer\Order" method="checkoutCartProductUpdateAfter" />
    </event>

    <!-- OK -->
    <event name="checkout_onepage_controller_success_action">
        <observer name="obs_checkout_onepage_controller_success_action" instance="Tym17\MailPerformance\Model\Observer\Order" method="checkoutOnepageControllerSuccessAction" />
    </event>

    <!-- OK -->
    <event name="checkout_type_onepage_save_order_after">
        <observer name="obs_checkout_type_onepage_save_order_after" instance="Tym17\MailPerformance\Model\Observer\Order" method="checkoutTypeOnepageSaveOrderAfter" />
    </event>

    <!-- OK -->
    <event name="sales_model_service_quote_submit_success">
        <observer name="obs_sales_model_service_quote_submit_success" instance="Tym17\MailPerformance\Model\Observer\Order" method="salesModelServiceQuoteSubmitSuccess" />
    </event>

    <!-- OK -->
    <event name="sales_order_invoice_cancel">
        <observer name="obs_sales_order_invoice_cancel" instance="Tym17\MailPerformance\Model\Observer\Order" method="salesOrderInvoiceCancel" />
    </event>
    <event name="sales_order_payment_cancel_invoice">
        <observer name="obs_sales_order_payment_cancel_invoice" instance="Tym17\MailPerformance\Model\Observer\Order" method="salesOrderPaymentCancelInvoice" />
    </event>
    <event name="sales_order_payment_cancel">
        <observer name="obs_sales_order_payment_cancel" instance="Tym17\MailPerformance\Model\Observer\Order" method="salesOrderPaymentCancel" />
    </event>


    <!-- /\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\ -->


    <!-- PPDT -->
    <event name="customer_register_success">
        <observer name="obs_customer_register_success" instance="Tym17\MailPerformance\Model\Observer\Order" method="customerRegisterSuccess" />
    </event>

    <!-- PPDT -->
    <event name="checkout_controller_onepage_saveOrder">
        <observer name="obs_checkout_controller_onepage_saveOrder" instance="Tym17\MailPerformance\Model\Observer\Order" method="checkoutControllerOnepageSaveOrder" />
    </event>

    <!-- PPDT -->
    <event name="sales_model_service_quote_submit_failure">
        <observer name="obs_sales_model_service_quote_submit_failure" instance="Tym17\MailPerformance\Model\Observer\Order" method="salesModelServiceQuoteSubmitFailure" />
    </event>

    <!-- /\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\ -->

    <!-- /!\ OK /!\ -->
    <event name="controller_action_predispatch_newsletter">
        <observer name="obs_controller_action_predispatch_newsletter" instance="Tym17\MailPerformance\Model\Observer\Order" method="controllerActionPredispatchNewsletter" />
    </event>
    <event name="controller_action_predispatch_newsletter_subscriber_new">
        <observer name="obs_controller_action_predispatch_newsletter_subscriber_new" instance="Tym17\MailPerformance\Model\Observer\Order" method="controllerActionPredispatchNewsletterSubscriberNew" />
    </event>
    <event name="controller_action_postdispatch_newsletter_subscriber_new">
        <observer name="obs_controller_action_postdispatch_newsletter_subscriber_new" instance="Tym17\MailPerformance\Model\Observer\Order" method="controllerActionPostdispatchNewsletterSubscriberNew" />
    </event>
    <event name="controller_action_postdispatch_newsletter">
        <observer name="obs_controller_action_postdispatch_newsletter" instance="Tym17\MailPerformance\Model\Observer\Order" method="controllerActionPostdispatchNewsletter" />
    </event>


</config>
